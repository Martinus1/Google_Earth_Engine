google.maps.__gjsload__('drawing_impl', function(_){var B7a=function(a,b){function c(f,g,h,k){var l=_.Lm("div",a);_.pta(l);l.style.lineHeight="0";g={title:g,xm:h,Zo:k,padding:[4],wo:!0,fs:!0};h=_.Lm("span");h.style.display="inline-block";var m=f||"hand",p=x7a[m],q=_.TC(d,h,new _.R(0,p),y7a);q.style.position="relative";var r=_.YE(l,h,f,g);_.N(r,"active_changed",function(){var t=r.get("active")?z7a[m]:p;_.UC(q,y7a,new _.R(0,t))});r.bindTo("value",e,"drawingMode")}var d=_.gn("drawing");a.setAttribute("role","menubar");var e=this;c(null,"Stop drawing",
!0,!b.length);_.hb(b,function(f,g){var h=A7a[f];h&&c(f,h,!1,g==b.length-1)})},F9=function(){},G9=function(a,b,c){this.D=a;this.F=b;this.G=c},C7a=function(a){if(!a.h){var b={};_.Zd(b,a.get("options"));null==b.zIndex&&(b.zIndex=a.G());delete b.map;a.h=a.D.cr(b)}},H9=function(a,b,c){a.h&&(a.j&&a.m?(a.h.get("map")||a.h.bindTo("map",a),a.D.Ap(a.h,a.j,b,c.h<a.m.h)):a.D.Ap(a.h,b))},D7a=function(a,b,c){H9(a,b,c);b=a.h.get("map");c=a.h;c.unbind("map");a.h=null;_.O(a,"overlaycomplete",{type:a.D.Nr(),overlay:c});
_.O(a,a.D.Lr(),c);_.qg(b,"DMsim");_.og(b,147922);a.j=null;a.m=null;a.C=!1},I9=function(){},J9=function(a){this.j=a;this.h=null},E7a=function(a){if(!a.h){var b={};_.Zd(b,a.get("options"));delete b.map;a.h=new _.Yg(b)}},K9=function(a,b,c,d){this.j=a;this.m=b;this.C=c;this.D=d+1E-6;this.h=null;this.H=new _.R(0,0);this.F=new _.R(0,0);this.G=new _.R(0,0)},L9=function(a,b){a.h.polyline.getPath().push(b);a.h.wf.set("anchors",[b])},H7a=function(a,b){var c=F7a(a,b);c?(a.j||2!=c.type||L9(a,c.latLng),G7a(a)):
L9(a,b)},F7a=function(a,b){var c=a.h.polyline.getPath(),d=c.getLength();if(d){var e=a.get("map"),f=e.get("projection");e=e.__gm.get("zoom");e=a.D/(1<<e);var g=f.fromLatLngToPoint(b,a.H);b=b.lng();d=c.getAt(d-1);var h=new _.Ke(d.lat(),_.de(d.lng(),b-180,b+180),!0);h=f.fromLatLngToPoint(h,a.F);if(Math.abs(g.x-h.x)<=e&&Math.abs(g.y-h.y)<=e)return{type:1,latLng:d};c=c.getAt(0);b=new _.Ke(c.lat(),_.de(c.lng(),b-180,b+180),!0);a=f.fromLatLngToPoint(b,a.G);if(Math.abs(g.x-a.x)<=e&&Math.abs(g.y-a.y)<=e)return{type:2,
latLng:c}}return null},I7a=function(a){var b=a.get("options"),c=new _.P;c.setValues(b);var d=new _.ZD(c,a.j);c={};_.Zd(c,b);c.strokeColor=d.get("strokeColor");c.strokeOpacity=d.get("strokeOpacity");c.strokeWeight=d.get("strokeWeight");null==c.zIndex&&(c.zIndex=a.C());delete c.path;delete c.map;var e=new _.qj(c);e.bindTo("map",a);c.strokeOpacity=d.get("ghostStrokeOpacity");d=new _.$D;d.setValues(c);d.set("anchors",[]);d.bindTo("map",a);var f=null;a.j&&(f={},_.Zd(f,b),f.zIndex=c.zIndex,f.paths=new _.ti([e.getPath()]),
delete f.map,f=new _.pj(f));a.h={polyline:e,Ro:f,wf:d};M9(a)},G7a=function(a){var b=a.get("map"),c=a.h.polyline;c.unbind("map");var d=a.h.Ro;a.h.wf.unbind("map");a.h.wf.set("map",null);a.h=null;a.set("draggableCursor",a.m);c.getPath().getLength()?(a.j?(c.set("map",null),d.set("map",b),_.O(a,"overlaycomplete",{type:"polygon",overlay:d}),_.O(a,"polygoncomplete",d)):(_.O(a,"overlaycomplete",{type:"polyline",overlay:c}),_.O(a,"polylinecomplete",c)),_.qg(b,"DMpol"),_.og(b,147921),M9(a)):c.set("map",null)},
M9=function(a){a.set("enablePanning",!!a.h&&a.get("drawPolysWithDrag")&&!a.get("panWhileDrawing"))},N9=function(){},J7a=function(){var a=0;return function(){return a++}},O9=function(){var a=this.j=K7a(this);this.N=L7a(this);var b="url("+_.Ps+"crosshair.cur)";_.Bi.h&&(b+=" 7 7");b+=", crosshair";var c=J7a();this.D=6+(_.Qm()?9:0);this.m={circle:new G9(new I9,b,c),marker:new J9(b),polygon:new K9(!0,b,c,this.D),polyline:new K9(!1,b,c,this.D),rectangle:new G9(new N9,b,c)};b=M7a(this);for(var d in this.m)c=
this.m[d],c.bindTo("map",this),c.bindTo("drawingMode",this),c.bindTo("panWhileDrawing",this),c.bindTo("draggingCursor",a),c.bindTo("draggableCursor",b),c.bindTo("enablePanning",a,"panAtEdge"),c.bindTo("options",this,d+"Options"),_.Af(c,"overlaycomplete",this),_.Af(c,d+"complete",this);this.m.polygon.bindTo("drawPolysWithDrag",this);this.m.polyline.bindTo("drawPolysWithDrag",this);this.h=null;this.T=[];this.C=this.F=null;this.H=0;this.K=this.G=null;this.Ba=this.J=void 0},K7a=function(a){var b="click dblclick movestart move moveend panbynow mousewheel mousemove".split(" "),
c=new _.TD(b),d=!1;_.hb(b,function(e){_.N(c,e,function(f,g){var h=f instanceof _.yq,k=h?f.Ia:f;if("click"==e||"dblclick"==e||"mousemove"==e)h?("click"==e&&_.Pl(f.Ia),"dblclick"==e&&_.Pl(f.Ia),"mousemove"==e&&_.Bq(f)):_.kf(f);if("mousewheel"!=e&&(!d||"mousemove"!=e)){if("mousemove"==e||"move"==e)a.G=e,a.K=k,a.J=g;if(d||!a.get("panWhileDrawing"))"movestart"==e&&(d=!0),"moveend"==e&&(d=!1),f=Date.now(),"panbynow"==e?a.G&&N7a(a,a.G,a.K,f,a.J):N7a(a,e,k,f,g)}})});return c},L7a=function(a){var b=new _.WC(["map",
"drawingMode","pegmanDragging"],"active",function(c,d,e){return!!c&&!!d&&!e});b.bindTo("map",a);b.bindTo("drawingMode",a);a.j.bindTo("active",b);return b},M7a=function(a){var b=new _.WC(["draggableCursor","panWhileDrawing"],"cursor",function(c,d){return d?null:c});b.bindTo("panWhileDrawing",a);a.j.bindTo("draggableCursor",b,"cursor");return b},N7a=function(a,b,c,d,e){var f=a.get("map");if(a.h){var g=f.__gm.get("projectionController"),h=f.__gm.get("panes");if(g&&h&&(g=e||c,a.Ba&&g)){e=a.Ba.Fd(g);f=
_.am(e,f.getProjection());g=new _.R(g.clientX,g.clientY);(h=(h=a.get("snappingCallback"))&&h(a.h.hm(f,e)))&&(f=h);h=!1;if("click"==b){if(300>=d-a.H&&a.C&&_.ee(a.C.x,g.x,a.D)&&_.ee(a.C.y,g.y,a.D))return;a.C=g;a.H=d;h=a.h.Ql(f,e)}else"dblclick"==b?h=a.h.Vr():"mousemove"==b?h=a.h.ko(f,e):"movestart"==b?h=a.h.oo(f,e):"move"==b?h=a.h.mo(f,e):"moveend"==b&&(h=a.h.no(f,e));h&&c&&_.kf(c)}}},P9=function(a){var b=this;this.Ea=new _.mi(function(){b.h&&(b.m.af(b.h),_.bj(b.h),b.h=null,b.j.unbindAll(),b.j=null);
b.m=b.get("layoutManager");if(b.m&&0!=b.get("drawingControl")){var d=b.get("drawingControlOptions")||{},e=d.drawingModes||O7a,f=document.createElement("div");_.nE(f);f.style.margin=_.Nl(5);_.Mm(f,10);b.h=f;b.j=new B7a(b.h,e);b.j.bindTo("drawingMode",b);b.m.addElement(b.h,d.position||1,!1,.25)}},0);var c=new O9;c.bindTo("map",a);c.bindTo("drawingMode",a);c.bindTo("panWhileDrawing",a);c.bindTo("markerOptions",a);c.bindTo("polygonOptions",a);c.bindTo("polylineOptions",a);c.bindTo("rectangleOptions",
a);c.bindTo("circleOptions",a);c.bindTo("drawPolysWithDrag",a);_.Af(c,"overlaycomplete",a);_.Af(c,"circlecomplete",a);_.Af(c,"markercomplete",a);_.Af(c,"polygoncomplete",a);_.Af(c,"polylinecomplete",a);_.Af(c,"rectanglecomplete",a);this.bindTo("map",a);this.bindTo("drawingControl",a);this.bindTo("drawingControlOptions",a);this.bindTo("drawingMode",a);this.set("snappingCallback",a.get("snappingCallback"));a.bindTo("snappingCallback",this);c.bindTo("snappingCallback",this);_.qg(a.get("map"),"DMnew");
_.og(a.get("map"),147919)},P7a=function(a){switch(a){case null:return null;case "Point":return"marker";case "LineString":return"polyline";case "Polygon":return"polygon";default:return null}};_.B(B7a,_.P);var A7a={marker:"Add a marker",polygon:"Draw a shape",polyline:"Draw a line",rectangle:"Draw a rectangle",circle:"Draw a circle"},y7a=new _.Dg(16,16),z7a={hand:144,marker:112,polygon:96,polyline:128,rectangle:48,circle:0},x7a={hand:80,marker:176,polygon:64,polyline:32,rectangle:16,circle:160};_.B(F9,_.P);_.n=F9.prototype;_.n.hm=function(){};_.n.Ql=function(){return!1};_.n.Vr=function(){return!1};_.n.ko=function(){return!1};_.n.oo=function(){return!1};_.n.mo=function(){return!1};_.n.no=function(){return!1};_.B(G9,F9);_.n=G9.prototype;_.n.hm=function(a,b){C7a(this);H9(this,a,b);return{latLng:a,overlay:this.h}};_.n.active_changed=function(){if(this.get("active"))this.set("draggableCursor",this.F),this.set("draggingCursor","");else{var a=this.h;a&&(a.unbind("map"),a.set("map",null),this.h=null);this.m=this.j=null;this.C=!1}};_.n.Ql=function(a,b){this.j?D7a(this,a,b):(C7a(this),this.j=a,this.m=b,H9(this,a,b),this.C=!0);return!1};_.n.ko=function(a,b){H9(this,a,b);return!1};
_.n.oo=function(a,b){if(this.C)return!1;this.set("draggingCursor",this.F);this.set("enablePanning",!0);C7a(this);this.j=a;this.m=b;H9(this,a,b);return!0};_.n.mo=function(a,b){if(this.C)return!1;H9(this,a,b);return!0};_.n.no=function(a,b){if(this.C)return!1;this.set("draggingCursor","");this.set("enablePanning",!1);D7a(this,a,b);return!0};I9.prototype.cr=function(a){return new _.nj(a)};I9.prototype.Ap=function(a,b,c){a.set("center",b);var d=0,e=a.get("map");e&&c&&(d=e.__gm.get("baseMapType"),d=_.Pu(b,c,d&&d.radius));a.set("radius",d)};I9.prototype.Nr=function(){return"circle"};I9.prototype.Lr=function(){return"circlecomplete"};_.B(J9,F9);J9.prototype.hm=function(a){E7a(this);this.h.setPosition(a);return{latLng:a,overlay:this.h}};J9.prototype.active_changed=function(){this.get("active")&&this.set("draggableCursor",this.j)};J9.prototype.Ql=function(a){var b=this.get("map");E7a(this);this.h.setPosition(a);this.h.setMap(b);_.O(this,"overlaycomplete",{type:"marker",overlay:this.h});_.O(this,"markercomplete",this.h);_.qg(b,"DMmar");_.og(b,147920);this.h=null;return!1};_.B(K9,F9);_.n=K9.prototype;_.n.hm=function(a){this.h&&this.h.polyline||I7a(this);return{latLng:a,overlay:this.h.Ro||this.h.polyline}};_.n.active_changed=function(){this.get("active")?this.set("draggableCursor",this.m):this.h&&this.h.polyline&&(null===this.get("drawingMode")?G7a(this):(this.h.polyline.unbind("map"),this.h.polyline.set("map",null),this.h.wf.unbind("map"),this.h.wf.set("map",null),this.j&&this.h.Ro.set("map",null),this.h=null))};
_.n.Ql=function(a){if(!a)return!1;this.h?H7a(this,a):(I7a(this),L9(this,a));return!1};_.n.Vr=function(){this.h&&1<this.h.polyline.getPath().getLength()&&G7a(this);return!1};_.n.ko=function(a){var b=a;this.h&&a&&(a=F7a(this,a),this.set("draggableCursor",a?"pointer":this.m),a&&(b=a.latLng),this.h.wf.set("freeVertexPosition",b));return!1};
_.n.oo=function(a){return a?this.get("drawPolysWithDrag")?(this.h||I7a(this),this.h.polyline.getPath().getLength()||L9(this,a),this.set("draggingCursor",this.m),!0):!1:!1};_.n.mo=function(a){return this.h&&this.get("drawPolysWithDrag")?(this.h.wf.set("freeVertexPosition",a),!0):!1};_.n.no=function(a){return a?this.get("drawPolysWithDrag")?(this.h&&(H7a(this,a),this.set("draggingCursor","")),this.h&&this.h.wf.set("freeVertexPosition",null),!0):!1:!1};_.n.drawPolysWithDrag_changed=function(){M9(this)};
_.n.panWhileDrawing_changed=function(){M9(this)};N9.prototype.cr=function(a){return new _.rj(a)};N9.prototype.Ap=function(a,b,c,d){c=c||b;d=void 0===d?!1:d;var e=c.lat(),f=b.lat();b.lat()<c.lat()&&(e=b.lat(),f=c.lat());var g=b.lng(),h=c.lng();d&&(g=c.lng(),h=b.lng());b=_.Zf(e,g,f,h);a.set("bounds",b)};N9.prototype.Nr=function(){return"rectangle"};N9.prototype.Lr=function(){return"rectanglecomplete"};_.B(O9,_.P);O9.prototype.map_changed=function(){var a=this,b=this.get("map"),c=this.N,d=this.j;if(b){var e=b.__gm;e.h.then(function(f){a.Ba=f.Fa});this.bindTo("mouseEventTarget",e);c.bindTo("pegmanDragging",e);d.bindTo("draggable",b);d.bindTo("scrollwheel",b);this.F=_.Af(d,"panbynow",e)}else this.unbind("mouseEventTarget"),this.set("mouseEventTarget",null),c.unbind("pegmanDragging"),d.unbind("draggable"),d.unbind("scrollwheel"),this.F&&(_.pf(this.F),this.F=null)};
O9.prototype.mouseEventTarget_changed=function(){var a=["panes","pixelBounds"],b=this.j;_.hb(a,b.unbind,b);b=this.T;_.hb(b,_.pf);b.length=0;if(this.get("mouseEventTarget")){b=this.j;var c=this.get("map");_.fw(b,a,c.__gm)}};O9.prototype.drawingMode_changed=function(){this.h&&this.h.set("active",!1);this.j.set("panAtEdge",!1);var a=this.get("drawingMode");(this.h=this.m[a])&&this.h.set("active",!0)};_.B(P9,_.P);P9.prototype.map_changed=function(){var a=this.get("map");a?(a=a.__gm,this.bindTo("layoutManager",a),a.set("snappingCallback",this.get("snappingCallback")),this.bindTo("snappingCallback",a)):(this.unbind("layoutManager"),this.set("layoutManager",null),this.unbind("snappingCallback"))};P9.prototype.layoutManager_changed=function(){_.ni(this.Ea)};P9.prototype.drawingControl_changed=function(){_.ni(this.Ea)};P9.prototype.drawingControlOptions_changed=function(){_.ni(this.Ea)};
var O7a=["marker","polyline","rectangle","circle","polygon"];_.ff("drawing_impl",{Qt:P9,lx:function(a){var b=new _.P,c=new _.WC(["dataDrawingMode"],"drawingManagerMode",P7a);c.bindTo("dataDrawingMode",a,"drawingMode");var d=new _.WC(["styleOrStylingFunction"],"style",function(g){return"function"===typeof g?g(new _.Bf):g});d.bindTo("styleOrStylingFunction",a,"style");var e=new _.WC(["controls","controlPosition"],"drawingControlOptions",function(g,h){return{drawingModes:_.fe(g,P7a),position:h}});e.bindTo("controls",a);e.bindTo("controlPosition",a);var f=new _.WC(["controls"],
"drawingControl",function(g){return!!g});f.bindTo("controls",a);b.bindTo("map",a);b.bindTo("drawingMode",c,"drawingManagerMode");b.bindTo("markerOptions",d,"style");b.bindTo("polylineOptions",d,"style");b.bindTo("polygonOptions",d,"style");b.bindTo("drawingControlOptions",e);b.bindTo("drawingControl",f);_.N(b,"overlaycomplete",function(g){g=g.overlay;var h=_.nsa([g]),k=a.get("featureFactory");h=k?k(h):new _.Bf({geometry:h});a.add(h);g.set("map",null)});new P9(b);_.Rl(a,"map_changed",function(){var g=
a.get("map");g&&(_.qg(g,"Le"),_.og(g,148236))})}});});
